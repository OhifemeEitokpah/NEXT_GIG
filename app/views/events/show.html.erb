<div class="img-bg"></div>
<div class="container mt-4">
  <%= link_to "Back to events", events_path, class: 'mb-3 btn btn-secondary' %>
<div class="row">
  <div class="col-md-8 mb-4">
    <!-- Name + Address Block -->
    <div class="card mb-3 bg-light border-0 shadow-sm">
      <div class="card-body">
        <!-- In app/views/flats/show.html.erb -->
           <% if @image_url.present? %>
            <img src="<%= @image_url %>" alt="Flat image" class="img-fluid mb-3">
          <% end %>
        <h4 class="card-title mb-1"><%= @event.title %></h4>
        <h6 class="card-subtitle text-muted"><%= @event.venue.address %></h6>
      </div>
    </div>

    <!-- Description Block -->
    <div class="card mb-3 bg-light border-0 shadow-sm">
      <div class="card-body">
        <h6 class="card-subtitle mb-2 text-muted">Description</h6>
        <p class="card-text mb-0"><%= @event.description %></p>
      </div>
    </div>
</div>
  <!-- form with book dates From: to: -->
  <div class="col-md-4 mb-4">

    <div class="card bg-light border-0 shadow-sm">
      <div class="card-body">
        <h6 class="card-subtitle mb-2 text-muted">Book this event</h6>
        <%= form_with model: @flat, local: true do |form| %>
          <div class="mb-3">
            <%= form.label :start_date, "From:" %>
            <%= form.date_field :start_date, class: 'form-control' %>
          </div>
          <div class="mb-3">
            <%= form.label :end_date, "To:" %>
            <%= form.date_field :end_date, class: 'form-control' %>
          </div>
          <%= form.submit "Book", class: 'btn btn-success w-100' %>
        <% end %>
      </div>
    </div>
</div>

<%# we need to change this when the user flow is done%>
  <div class="col-md-12 mb-4 d-flex justify-content-between">
    <%= link_to "Edit this flat", root_path, class: 'btn btn-outline-primary' %>
    <%= button_to "Destroy this flat", root_path, data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: 'btn btn-outline-danger' %>
  </div>
</div>
